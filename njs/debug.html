<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
 <HEAD>
  <TITLE> njs debug </TITLE>
  <script type="text/javascript" src="njs.js"></script>
  <script type="text/javascript" src="njs.template.js"></script>
  <script type="text/javascript" src="njs.selector.js"></script>
  <script type="text/javascript">
  <!--
	var LOG = function()
	{
		document.getElementById("output").innerHTML += $njs.array.copy(arguments,["<p style=\"margin:-1px;\">","</p>"],1).join("");
	}
  //-->
  </script>
 </HEAD>

 <BODY style="font-family:'Courier New'">
<pre>
\[(?:[^"']*?|(?:(["'])(?:[^\1\\]*?|\\u.{4}|\\x.{2}|\\[^ux])*?\1))+?\]
\[([^"']+?|((["'])([^\3\\]*?|\\u.{4}|\\x.{2}|\\[^ux])*?\3))+?\]
\[([^"']+?|"[^"]*?")+?\]
"([^"\\]*?|\\u.{4}|\\x.{2}|\\[^ux])*?"
(["'])([^\1\\]*?|\\u.{4}|\\x.{2}|\\[^ux])*?\1

("[^"\\]*(\\[\S\s][^"\\]*)*"|'[^'\\]*(\\[\S\s][^'\\]*)*')
\[(?:[^"']*?|(?:(["'])(?:[^"'\\]*|\\[^ux]|\\u.{4}|\\x.{2}|\\[^ux])*?["']))*?\]
</pre>
  <div id="clickme" onclick="LOG('native click is fired');">CLICK ME</div>
  <div id="output" style="border:1px solid red;width:100%;margin-top:10px;font-family:Verdana"></div>

   <SCRIPT LANGUAGE="JavaScript">
	var template = '[dssss"s""s\'\\""]dsadas';
	//var regex = /\[(?:[^"']*?|(?:(["'])(?:[^\1]*?|\\u.{4}|\\x.{2}|\\[^ux])*?\1))+?\]/;
	//var regex = /\[(?:[^"']*?|(?:(["'])(?:[^"']*?|\\[^ux]|\\u.{4}|\\x.{2})*?["']))*?\]/g;
	//var regex = /\[([^"']*?|(["'](\\u.{4}|\\x.{2}|\\[^ux]|[^"'])*?["']))*?\]/;
	var regex = /\[(?:[^"'\]]*|"(?:[^"\\]*|\\[^ux]|\\u\S{4}|\\x\S{2})*"|'(?:[^'\\]*|\\[^ux]|\\u\S{4}|\\x\S{2})*')*\]/;
	//alert(template.match(regex));
	LOG("clickme" , "output" , $njs.element.compareDocumentPosition(document.getElementById("clickme"),document.getElementById("output")));
	LOG("document" , "output" , $njs.element.compareDocumentPosition(document,document.getElementById("output")));
	LOG("documentbody" , "output" , $njs.element.compareDocumentPosition(document.body,document.getElementById("output")));
	LOG("output" , "output" , $njs.element.compareDocumentPosition(document.getElementById("output" ),document.getElementById("output")));
	//alert($njs.element.compareDocumentPosition(document.getElementById("clickme"),document.getElementById("output")));
	//alert( arr = regex.exec(template));
	//var tp = $njs.template.parse(template);
	//var func = function(){LOG("click is fired");};
	//$njs.event.bind(document.getElementById("clickme") , "click" ,func );
	//$njs.event.trigger(document.getElementById("clickme") , "click"  );
	//$njs.event.remove(document.getElementById("clickme") , "click" ,func );
	//alert($njs.element.find("div").length);
  </SCRIPT>
 </BODY>
</HTML>
